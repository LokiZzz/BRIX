@implements IDisposable

@if(_isBusy)
{
    <div class="modal is-active">
        <div class="modal-background"></div>
        <div class="modal-content">
            <div class="container p-2">
                <progress class="progress is-primary block" max="100" />
            </div>
        </div>
    </div>
}

@code {
    private bool _isBusy;

    public void UpdateIsBusy(bool isBusy)
    {
        _isBusy = isBusy;
        StateHasChanged();
    }

    protected override void OnInitialized()
    {
        Modal.OnIsBusyChanged += UpdateIsBusy;
    }

    public void Dispose()
    {
        Modal.OnIsBusyChanged -= UpdateIsBusy;
    }
}
